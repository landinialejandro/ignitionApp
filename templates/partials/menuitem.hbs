<!-- partials/menuitem.hbs -->
{{#if (eq type "component")}}
<li class="nav-item">
    <div id="{{id}}">
        {{#if properties}}
        {{> component_button}}
        {{/if}}
    </div>
</li>
{{else}}
<li class="nav-item{{#if children}} expanded{{/if}}{{li_class}}"
    {{#each li_attr}} {{@key}}="{{this}}" {{/each}}>
    <div class="nav-link-container {{#if active}}active{{/if}} "
        data-name="{{caption}}"
        data-type="{{type}}"
        data-url="{{url}}">
        <a href="{{url}}"
            class="nav-link {{a_class}}"
            {{#each a_attr}}{{@key}}="{{this}}" {{/each}}>

            {{> component_i context="nav"}}

            {{#if caption}}
            <!-- Truncado a 20 caracteres -->
            <span class="nav-text" title="{{caption}}">{{truncate caption
                18}}</span>
            {{/if}}

            {{#if badge}}
            {{> component_badge badge}}
            {{/if}}
        </a>

        <!-- Contenedor tool-box con botÃ³n chevron -->
        <div class="tools-box">
            <button class="button-tool button-delete-file" title="Borrar"
                aria-label="Borrar"
                {{#when type 'eq' 'content'}} style="display: none;"{{/when}}>
                <i class="bi bi-trash3"></i>
            </button>
            {{#if children}}
            <button class="button-tool button-add-file"
                title="Agregar Documento" aria-label="Agregar documento">
                <i class="bi bi-file-earmark-plus"></i>
            </button>
            <button class="button-tool button-add-folder"
                title="Agregar Carpeta" aria-label="Agregar carpeta">
                <i class="bi bi-folder-plus"></i>
            </button>
            <button class="button-tool button-collapse expanded"
                aria-label="Expandir/Contraer">
                <i class="bi bi-chevron-right menu-collapse"></i>
            </button>
            {{/if}}
        </div>

    </div>

    {{#if children}}
    <ul class="nav-item nav-submenu">
        {{#each children}}
        {{> menuitem }}
        {{/each}}
    </ul>
    {{/if}}
</li>
{{/if}}